%!TEX program = xelatex
\documentclass{article}
\usepackage{tabularx}
\usepackage[singlefile]{graphviz}
\usepackage{graphicx}
\usepackage{float}
\usepackage{verbatim}
\title{COMP4500 Assignment 1}
\author{Tom Manderson\\Student 43159835}
\date{Friday, 23 September, 2016}

\renewcommand{\thepart}{\Alph{part}}
\renewcommand{\thesection}{Question \arabic{section}}
\renewcommand{\thesubsection}{\arabic{section}(\alph{subsection})}

\begin{document}
\maketitle
\tableofcontents
\clearpage

\part{}
\section{}
\subsection{}
\begin{tabular}{|l|cccccccccccc|}
\hline
\(d_n\) & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 & 12\\
\hline
Student No & & & 4 & 3 & 1 & 5 & 8 & 9 & 3 & 5 & & \\
\hline
Intermediate & 9 & 8 & 4 & 3 & 1 & 5 & 8 & 9 & 3 & 5 & 5 & 2 \\
\hline
SNI & 9 & 8 & 4 & 3 & 1 & 5 & 8 & 9 & 3 & 5 & 8 & 2 \\
\hline
\end{tabular}

\subsection{}
\digraph[scale=0.7]{sni}{
1; 2; 3; 4; 5; 6; 7; 8; 9;
9 -> 8;
8 -> 4;
4 -> 3;
3 -> 1;
1 -> 5;
5 -> 8;
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2;
}

\section{}
\subsection{}
\digraph[scale=0.7]{scc1}{
node[color=white fillcolor=white]
1; 2; 3; 4; 5; 6; 7; 8; 9;
9 -> 8;
8 -> 4;
4 -> 3;
3 -> 1;
1 -> 5;
5 -> 8;
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2;
}

\digraph[scale=0.7]{scc2}{
node[color=white fillcolor=white]
1[color=gray]; 2; 3; 4; 5; 6; 7; 8; 9;
9 -> 8;
8 -> 4;
4 -> 3;
3 -> 1;
1 -> 5;
5 -> 8;
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2;
}

\digraph[scale=0.7]{scc3}{
node[color=white fillcolor=white]
1[color=gray]; 2; 3; 4; 5[color=gray]; 6; 7; 8; 9;
9 -> 8;
8 -> 4;
4 -> 3;
3 -> 1;
1 -> 5 [color="red:red"];
5 -> 8;
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2;
}

\digraph[scale=0.7]{scc4}{
node[color=white fillcolor=white]
1[color=gray]; 2; 3; 4; 5[color=gray]; 6; 7; 8[color=gray]; 9;
9 -> 8;
8 -> 4;
4 -> 3;
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="red:red"];
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2;
}

\digraph[scale=0.7]{scc5}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=gray]; 3; 4; 5[color=gray]; 6; 7; 8[color=gray]; 9;
9 -> 8;
8 -> 4;
4 -> 3;
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2 [color="red:red"];
}

\digraph[scale=0.7]{scc6}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=black xlabel=7]; 3; 4; 5[color=gray]; 6; 7; 8[color=gray]; 9;
9 -> 8;
8 -> 4;
4 -> 3;
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc7}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=black xlabel=7]; 3; 4[color=gray]; 5[color=gray]; 6; 7; 8[color=gray]; 9;
9 -> 8;
8 -> 4 [color="red:red"];
4 -> 3;
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc8}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=black xlabel=7]; 3 [color=gray]; 4[color=gray]; 5[color=gray]; 6; 7; 8[color=gray]; 9;
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="red:red"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc9}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=black xlabel=7]; 3 [color=black xlabel=10]; 4[color=gray]; 5[color=gray]; 6; 7; 8[color=gray]; 9;
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="black:black"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc10}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=black xlabel=7]; 3 [color=black xlabel=10]; 4[color=black xlabel=11]; 5[color=gray]; 6; 7; 8[color=gray]; 9;
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="black:black"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc11}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=black xlabel=7]; 3 [color=black xlabel=10]; 4[color=black xlabel=11]; 5[color=gray]; 6; 7; 8[color=gray]; 9[color=gray];
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="black:black"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9 [color="red:red"];
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc12}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=black xlabel=7]; 3 [color=black xlabel=10]; 4[color=black xlabel=11]; 5[color=gray]; 6; 7; 8[color=gray]; 9[color=black xlabel=13];
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="black:black"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9 [color="black:black"];
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc13}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=black xlabel=7]; 3 [color=black xlabel=10]; 4[color=black xlabel=11]; 5[color=gray]; 6; 7; 8[color=black xlabel=14]; 9[color=black xlabel=13];
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="black:black"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9 [color="black:black"];
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc14}{
node[color=white fillcolor=white]
1[color=gray]; 2 [color=black xlabel=7]; 3 [color=black xlabel=10]; 4[color=black xlabel=11]; 5[color=black xlabel=15]; 6; 7; 8[color=black xlabel=14]; 9[color=black xlabel=13];
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="black:black"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9 [color="black:black"];
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc15}{
node[color=white fillcolor=white]
1[color=black xlabel=16]; 2 [color=black xlabel=7]; 3 [color=black xlabel=10]; 4[color=black xlabel=11]; 5[color=black xlabel=15]; 6; 7; 8[color=black xlabel=14]; 9[color=black xlabel=13];
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="black:black"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9 [color="black:black"];
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc16}{
node[color=white fillcolor=white]
1[color=black xlabel=16]; 2 [color=black xlabel=7]; 3 [color=black xlabel=10]; 4[color=black xlabel=11]; 5[color=black xlabel=15]; 6 [color=black xlabel=18]; 7; 8[color=black xlabel=14]; 9[color=black xlabel=13];
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="black:black"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9 [color="black:black"];
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\digraph[scale=0.7]{scc17}{
node[color=white fillcolor=white]
1[color=black xlabel=16]; 2 [color=black xlabel=7]; 3 [color=black xlabel=10]; 4[color=black xlabel=11]; 5[color=black xlabel=15]; 6 [color=black xlabel=18]; 7[color=black xlabel=20]; 8[color=black xlabel=14]; 9[color=black xlabel=13];
9 -> 8;
8 -> 4 [color="black:black"];
4 -> 3 [color="black:black"];
3 -> 1;
1 -> 5 [color="black:black"];
5 -> 8 [color="black:black"];
8 -> 9 [color="black:black"];
9 -> 3;
3 -> 5;
8 -> 2 [color="black:black"];
}

\subsection{}
\digraph[scale=0.7]{sniT}{
1; 2; 3; 4; 5; 6; 7; 8; 9;
8 -> 9;
4 -> 8;
3 -> 4;
1 -> 3;
5 -> 1;
8 -> 5;
9 -> 8;
3 -> 9;
5 -> 3;
2 -> 8;
}

\subsection{}

\begin{figure}[H]
\centering
\digraph[scale=0.7]{sccResult}{
subgraph cluster_1{7;label="1"}
subgraph cluster_2{6;label="2"}
subgraph cluster_3{
1; 3; 4; 5; 8; 9;
label="3"
}
subgraph cluster_4{2;label="4"}
9 -> 8;
8 -> 4;
4 -> 3;
3 -> 1;
1 -> 5;
5 -> 8;
8 -> 9;
9 -> 3;
3 -> 5;
8 -> 2;
}
\caption{Graph with strongly connected components labeled by discovery order.}
\end{figure}

\part{}
\section{}
\subsection{}
\begin{verbatim}
Set<Delegate> stepDelegates(Event e, Set<Delegate> initial){
    result = new Set()
    for d in delegates
        dependent = e.getDependentDelegates(d)
        dependent = dependent.instersection(initial)
        if not dependent.isEmpty()
            result.add(d)
        endif
    endfor
    return result
}
\end{verbatim}

\begin{verbatim}
Set<Delegate> findDelegates(delegates, G, start, end, initial){
    Q.initialise() # Queue<(Vertex, Set<Delegate>)>
    cache.initialise() # HashMap<(Vertex, Vertex), HashMap<Set<Delegate>, Set<Delegate>>>
    result.initialise() # Set<Delegate>
    Q.enqueue((start, initial))
    while not Q.isEmpty()
        (current, currentDelegates) = Q.next()
        for edge in G.adjacent[current]
            if (current, edge.target) not in cache
                subCache = new HashMap()
                cache.put((current, edge.target), subCache)
            else
                subCache = cache.get((current, edge.target))
            endif
            if currentDelegates in subCache
                continue
            newDelegates = stepDelegates(edge.edgeInfo, s.delegates)
            if edge.target == end
                result.union(newDelegates)
            endif
            subCache.put(currentDelegates, newDelegates)
            Q.enqueue((edge.target, newDelegates))
        endfor
    endwhile
    return result
}
\end{verbatim}

\subsection{}
This section annotates the above pseudocode with a number or constant representing the computational complexity of the given line.

\begin{verbatim}
Set<Delegate> stepDelegates(Event e, Set<Delegate> initial){
1   result = new Set()
d   for d in delegates
    1   dependent = e.getDependentDelegates(d)
    d   dependent = dependent.instersection(initial)
    1   if not dependent.isEmpty()
    1       result.add(d)
        endif
    endfor
1   return result
}
\end{verbatim}

From the above, it can be seen that the stepDelegates function is \(O(|D|^2)\) where \(|D|\) represents the number of delegates.

\begin{verbatim}
Set<Delegate> findDelegates(delegates, G, start, end, initial){
1   Q.initialise() # Queue<(Vertex, Set<Delegate>)>
1   cache.initialise() # HashMap<(Vertex, Vertex), HashMap<Set<Delegate>, Set<Delegate>>>
1   result.initialise() # Set<Delegate>
1   Q.enqueue((start, initial))
    while not Q.isEmpty()
    1   (current, currentDelegates) = Q.next()
    e   for edge in G.adjacent[current]
        1   if (current, edge.target) not in cache
        1       subCache = new HashMap()
        1       cache.put((current, edge.target), subCache)
            else
        1       subCache = cache.get((current, edge.target))
            endif
        1   if currentDelegates in subCache
                continue
            newDelegates = stepDelegates(edge.edgeInfo, s.delegates)
        1   if edge.target == end
            d   result.union(newDelegates)
            endif
            subCache.put(currentDelegates, newDelegates)
            Q.enqueue((edge.target, newDelegates))
        endfor
    endwhile
    return result
}
\end{verbatim}

From above it can be seen that the inside of the while loop is \(O(|E|\times|D|^2)\). There are \(2^|D|\) possible input sets to each edge, which means that in the event of a large cycle we will visit each edge at most \(2^{|D|}\) times, and it is this condition that determines how many times we run through the while loop. Thus, we have:
$$O(\text{findDelegates}) = O(2^{|D|}\times |E| \times |D|^2)$$


\end{document}
